{"version":3,"sources":["../../src/pages/giftcards/giftcards.module.ts","../../src/pages/giftcards/giftcards.ts"],"names":[],"mappings":"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","file":"33.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { GiftcardsPage } from './giftcards';\n\n@NgModule({\n  declarations: [\n    GiftcardsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(GiftcardsPage),\n  ],\n})\nexport class GiftcardsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/giftcards/giftcards.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams ,LoadingController,AlertController} from 'ionic-angular';\nimport { GlobalVariable } from '../../app/global';\nimport { ServerProvider } from '../../providers/server/server';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-giftcards',\n  templateUrl: 'giftcards.html',\n})\nexport class GiftcardsPage {\n  giftcard:any = 'notbuyed';\n  mygifts:any;\n  banner:any;\n \n  constructor(public alertCtrl:AlertController,public loadingCtrl: LoadingController, public server: ServerProvider, public global: GlobalVariable,public navCtrl: NavController, public navParams: NavParams) {\n \n    this.my_gift_cards();\n    this.loadBanner_design()\n\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad GiftcardsPage');\n  }\n  buy(banner){\n   this.navCtrl.push('GiftcardBannerPage',{banner:banner})\n  }\n  \n\n  loadBanner_design() {\n    let loading = this.loadingCtrl.create({\n      content: \"Loading...\",\n  });\n  loading.present();\n    let response = this.server.my_gift_cards_design();\n    response.subscribe(data => {\n      loading.dismiss();\n      this.banner = data;\n        console.log(\"design\",data)\n      \n    }\n    , error => {\n      loading.dismiss();\n\n    });\n}\n \n\n  \n\nmy_gift_cards() {\n  let loading = this.loadingCtrl.create({\n      content: \"Loading...\",\n  });\n  loading.present();\n\n  let response = this.server.my_gift_cards();\n  response.subscribe(data => {\n      this.mygifts = data;\n     \n      loading.dismiss();\n  \n  }, error => {\n      loading.dismiss();\n      this.global.presentToast(\"Something went wrong check your internet connection.\")\n\n  });\n}\n\nrefill(item) {\n  var limit = Number(this.global.giftcard_amount_limit - Number(item.amount)).toFixed(2)\n  const prompt = this.alertCtrl.create({\n    title: 'Refill Amount',\n    message: \"Enter amount not greater than \" + limit + '.',\n    inputs: [\n      {\n        name: 'amount',\n        placeholder: 'Amount',\n        type:'number'\n      },\n    ],\n    buttons: [\n      {\n        text: 'Cancel',\n        handler: data => {\n          console.log('Cancel clicked');\n        }\n      },\n      {\n        text: 'Refill',\n        handler: data => {\n          if(Number(data.amount) + Number(item.amount) <= this.global.giftcard_amount_limit){\n            this.navCtrl.push('BuygiftcardsPage',{gift_id:item.giftcard_id,udid_r:this.global.udid,design_id:item.giftcard_id,amount:data.amount,message:item.message,action:'refill'});\n          }\n          else{\n            this.global.presentToast(\"Your giftcard amount must not greater than \"+ this.global.giftcard_amount_limit)\n          }\n          \n        }\n      }\n    ]\n  });\n  prompt.present();\n}\n\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/giftcards/giftcards.ts"],"sourceRoot":""}