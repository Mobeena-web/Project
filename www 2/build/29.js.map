{"version":3,"sources":["../../src/pages/mobile-email-varification/mobile-email-varification.module.ts","../../src/pages/mobile-email-varification/mobile-email-varification.ts"],"names":[],"mappings":"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","file":"29.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MobileEmailVarificationPage } from './mobile-email-varification';\n\n@NgModule({\n  declarations: [\n    MobileEmailVarificationPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MobileEmailVarificationPage),\n  ],\n})\nexport class MobileEmailVarificationPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mobile-email-varification/mobile-email-varification.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController, ViewController } from 'ionic-angular';\nimport { NativeStorage } from \"@ionic-native/native-storage\";\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { GlobalVariable } from \"../../app/global\";\nimport { ServerProvider } from \"../../providers/server/server\";\nimport { IntroPage7Page } from \"../intro-page7/intro-page7\";\nimport { LoginPage } from '../login/login';\n\n/**\n * Generated class for the MobileEmailVarificationPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-mobile-email-varification',\n  templateUrl: 'mobile-email-varification.html',\n})\nexport class MobileEmailVarificationPage {\n    submitAttempt: boolean;\n    userPhone: any;\n    CodeVerificationForm: FormGroup;\n    email: any;\n    phone_verified: boolean;\n    email_verified: boolean;\n    Phonecode: any;\n    Emailcode: any;\n    data: any;\n   constructor(public server: ServerProvider, public nativeStorage: NativeStorage, public navCtrl: NavController, public navParams: NavParams,\n    public loadingCtrl: LoadingController,\n    public alertCtrl: AlertController,\n    public formBilder: FormBuilder,\n    public viewctrl: ViewController,\n    public globals: GlobalVariable) {\n        this.data = {};\n\n        this.data.response = '';\n\n        this.email_verified = this.globals.email_verified;\n        this.phone_verified = this.globals.phone_verified;\n        console.log(\"constructor\",this.email_verified, this.phone_verified);\n      \n     \n   \n  }\n\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad MobileEmailVarificationPage');\n    this.GetUserNumberAndEmail();\n}\n\n\nGetUserNumberAndEmail() {\nconsole.log(\"get user number and email\");\n  this.userPhone = this.globals.PhoneNo;\n  this.email = this.globals.Email;\n}\n\n\n\nclose() {\n    this.viewctrl.dismiss();\n     this.navCtrl.setRoot('LoginPage');\n}\n\ncheckValidation(){\n   \n   \n    if(this.email_verified == true || this.phone_verified == true ){\n        this.Verify();\n    }\n    else{\n        let alert = this.alertCtrl.create({\n            title: \"Alert\",\n            message: \"Enter your valid code \",\n            buttons: [\"OK\"]\n        });\n\n        alert.present();\n\n\n    }\n    \n\n\n}\n\n\n\nVerify() {\n    console.log(this.Phonecode);\n\n        let loading = this.loadingCtrl.create({\n            content: \"loading...\"\n        });\n        loading.present();\n        let response = this.server.SendVerificationCodeToServer(this.Phonecode);\n        response.subscribe(data => {\n            let response = data;\n            loading.dismiss();\n            console.log(response);\n            if (response.status ==  true) {\n                console.log(\"verify function\");\n                if ( response.phone_verified == true) {\n                    if ( response.is_phone_verified == true) {\n                        this.register(this.globals.signupData)\n                    }\n                }\n                else\n                {\n                    let alert = this.alertCtrl.create({\n                        title: \"Error\",\n                        message: \"Enter Your Code\",\n                        buttons: [\"OK\"]\n                    });\n                    alert.present();\n\n                }\n              \n            }\n            else {\n                let alert = this.alertCtrl.create({\n                    title: \"Error\",\n                    message: response.message,\n                    buttons: [\"OK\"]\n                });\n                alert.present();\n                //this.viewctrl.dismiss(false);\n\n            }\n        }, error => {\n            loading.dismiss();\n            console.log(error);\n        });\n\n\n    }\n\n    register(signupData) {\n        let loading = this.loadingCtrl.create({\n            content: \"Please wait...\",\n            dismissOnPageChange: true,\n        });\n        loading.present();\n        // this.globals.PhoneNo = signupData.phonecode + signupData.phone  ;\n\n        let response = this.server.SignupData(signupData.firstName, signupData.lastName, signupData.email, signupData.password, this.globals.PhoneNo, signupData.birthday, signupData.aniversary,'');\n\n        response.subscribe(data => {\n            console.log(data);\n\n            this.data.response = data; \n            if (this.data.response.status != \"error\") {\n                // this.navCtrl.setRoot('AcceptTermsPage', { imageData: this.data.response.url, discountText: this.data.response.discount_text, Flag: true, discount: this.data.response.discount_value });\n                this.globals.firstName = signupData.firstName;\n                this.globals.lastName = signupData.lastName;\n                this.globals.udid = this.data.response.udid;\n                this.nativeStorage.setItem('user',\n                    {\n\n                        email: signupData.email,\n                        udid: this.data.response.udid,\n                        firstName: signupData.firstName,\n                        lastName: signupData.lastName,\n                        phone: signupData.phone,\n                        password: signupData.password,\n                        image: this.data.response.url,\n                        ID: this.data.response.id,\n                        date: this.data.response.date_joined,\n                        discountValue: this.data.response.discount_value,\n                        birthday: signupData.birthday,\n                        aniversary: signupData.aniversary\n\n                    }).then(() => {\n                        this.nativeStorage.setItem('discount', { discountValue: this.data.response.discount_value })\n                            .then(\n                                () => console.log('Stored item!'),\n                                error => console.error('Error storing item', error)\n                            );\n                        console.log(\"b discount value\", this.data.response.discount_value);\n                        this.navCtrl.setRoot('AcceptTermsPage', { imageData: this.data.response.url, discountText: this.data.response.discount_text, Flag: true, discount: this.data.response.discount_value });\n                        this.globals.udid = this.data.response.udid;\n                        //  this.server.initializePushToken();\n                    })\n                    .catch((err) => { console.log(err) });\n\n            }\n            else {\n                let alert = this.alertCtrl.create({\n                    title: 'Error!',\n                    subTitle: this.data.response.description,\n\n                    buttons: ['Retry']\n                });\n                loading.dismiss();\n                alert.present();\n\n                this.navCtrl.setRoot('LoginPage');\n\n            }\n        }, error => {\n            console.log(\"Oooops!\");\n            loading.dismiss();\n            let alert = this.alertCtrl.create({\n                title: 'Error',\n                subTitle: 'Server times out, please try again',\n                buttons: ['OK']\n            });\n            alert.present();\n\n        });\n\n\n    }\n\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mobile-email-varification/mobile-email-varification.ts"],"sourceRoot":""}