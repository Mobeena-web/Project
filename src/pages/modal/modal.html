<!--
  Generated template for the ModalPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-content class="main-view" >
    <ion-icon name="close" (click)="closetohome()" class="gn"></ion-icon>
  <div class="overlay">
    <!-- <ion-buttons end>
    <button ion-button (click)="dismiss()">
      <span ion-text color="primary" showWhen="ios">Cancel</span>
      <ion-icon name="md-close" showWhen="android, windows"></ion-icon>
    </button>
  </ion-buttons> -->

  </div>
  <div class="modal_content"  >
      
    <h2 style="text-align: center;margin-top: 23px;
    margin-bottom: 23px;"> Your Order Settings</h2>
    <div style="padding-top: 0px;"padding>
      <ion-segment [(ngModel)]="type"   (ionChange)="onsegmentChanged()" *ngIf="globals.delivery && globals.pickup">
        <ion-segment-button value="delivery"  >
          Delivery
        </ion-segment-button>
        <ion-segment-button value="pickup">
          PickUp
        </ion-segment-button>
      </ion-segment>
      <ion-segment [(ngModel)]="type"   (ionChange)="onsegmentChanged()" *ngIf="globals.delivery && !globals.pickup">
        <ion-segment-button value="delivery" >
          Delivery
        </ion-segment-button>
        
      </ion-segment>
      <ion-segment [(ngModel)]="type"   (ionChange)="onsegmentChanged()" *ngIf="globals.pickup && !globals.delivery">
        <ion-segment-button value="pickup">
          PickUp
        </ion-segment-button>
        
      </ion-segment>
    </div>
    <div [ngSwitch]="type">
     
      <ion-list *ngSwitchCase="'delivery'" no-lines>
        <div style=" margin-top: 0 ; padding-top: 0%">
        <ion-item style="margin-top:0px; margin-right: 8px; margin-bottom: 0px; margin-left: 0px">
          <h5 style="text-align: center ; font-size: 18px;"><b>When would you like your order ?</b></h5>

        </ion-item>
        <ion-item style=" margin-top:-16px; align-content: center;">
            <!-- <ion-datetime  displayFormat="MM DD YYYY h:mm a" placeholder="MM DD YYYY HH:mm" min="{{value}}" [(ngModel)]="myDate">
          </ion-datetime> -->
          <div  class="col-4 center-block block" *ngIf="!segmentValue" (click)="Getscheduletime()">
            <button ion-button clear class="time_heading" >Now </button>
            <br><span class="mytime" *ngIf="globals.pickupsetting">({{globals.pickupsetting}})</span>
          </div>
          <!-- <div  class="col-4 center-block "  style="margin-top:0; margin-bottom:0 ; align-content: center ; text-align: center ">
          <button ion-button clear *ngIf="!segmentValue"  style="font-size: 15px;"  (click)="Getscheduletime()" >Now <span *ngIf="globals.pickupsetting">({{globals.pickupsetting}})</span></button>
          </div> -->
          <div class="col-4 center-block block" *ngIf="segmentValue == 'Asap'" (click)="secondModal()">
            <button  ion-button clear class="time_heading" >Now</button>
            <br><span class="mytime" *ngIf="globals.pickupsetting">({{globals.pickupsetting}})</span>
          </div>
          <div class="col-4 center-block block" *ngIf="segmentValue == 'today'" (click)="secondModal()">
          <button  ion-button clear class="time_heading" >Today</button>
          <br><span class="mytime" *ngIf="convertDate">({{convertDate}})</span>
        </div>
        <div class="col-4 center-block block" *ngIf="segmentValue == 'later'" (click)="secondModal()">
          <button  ion-button clear  class="time_heading"  >Schedule</button>
          <br><span class="mytime" *ngIf="datenow">({{datenow}})</span>
        </div>
        </ion-item>
        <ion-item >
         
          <h5 style="text-align: center; margin-top: 0 ; padding-top:0 ; font-size: 18px"><b>Delivery Address</b></h5>
        </ion-item>
        <!-- <ion-row radio-group responsive-sm  [(ngModel)]="orderSettings">
          <ion-col col-1 >
            <ion-checkbox [(ngModel)]="CurrentAdress"   (ionChange)="CurrentAdressBox()"   disable="true" ></ion-checkbox>
          </ion-col >
          <ion-col col-5>
            <ion-label style="margin:0 0  0 0">Current Address</ion-label>

          </ion-col>
          <ion-col col-1 >
            <ion-checkbox   [(ngModel)]="NewAddress"  
            (ionChange)="NewAddressBox()"    disable="true" > </ion-checkbox>
          </ion-col>
          <ion-col col-5 style="padding-right: 9px">
           
            <ion-label style="margin:0 0  0 0"     >New Address</ion-label>

          </ion-col>

        </ion-row> -->
      
       <ion-row >
            <form [formGroup]="ProcessForm" ng-submit="process(this.ProcessForm.value)" style="width: 100%">
        <ion-item no-lines *ngIf="NEW == false">
            <!-- <div *ngIf="NEW != true" > -->
              <button style="height: 40%; margin-top: 25px; color: #fff;" ion-button round (click)="NewAddressBox()" item-end>Change Address </button>
            <!-- </div> -->
            
            <!-- <div *ngIf="NEW == true" >
                <button style="height: 66%;" ion-button (click)="CurrentAdressBox()" item-end>Current Address </button>
            </div> -->
          <!-- <ion-icon style="margin-top: 30px; color: #333;" name="pin" item-end></ion-icon> -->
            <ion-textarea style="margin-left: 0px !important;"  maxlength="100"   type="text" autocomplete="on"  placeholder="Enter Your Address" formControlName="Address"  [(ngModel)]="Address" ></ion-textarea>
        </ion-item>

        <ion-item no-lines *ngIf="NEW == true">
            <!-- <div *ngIf="NEW != true" > -->
              <!-- <button style="height: 66%;" ion-button (click)="NewAddressBox()" item-end>New Address </button> -->
            <!-- </div> -->
            
            <!-- <div *ngIf="NEW == true" > -->
                <button style="height: 40%; margin-top: 25px; color: #fff;" ion-button round (click)="CurrentAdressBox()" item-end>Current Address </button>
            <!-- </div> -->
          <!-- <ion-icon style="margin-top: 30px; color: #333;" name="pin" item-end></ion-icon> -->
            <ion-textarea style="margin-left: 0px !important;"  maxlength="100"   type="text" autocomplete="on"  placeholder="Enter Your Address" formControlName="Address"  [(ngModel)]="Address" ></ion-textarea>
        </ion-item>
        
            
              
          <!-- </ion-item> -->
        <!-- <ion-item>
            <ion-input type="text" placeholder="Enter Your City"  formControlName="city"  [(ngModel)]="city" ></ion-input>
          </ion-item>
          <ion-item>
              <ion-input type="text" placeholder="Enter Your State"    formControlName="state"  [(ngModel)]="state"  ></ion-input>
            </ion-item>
            <ion-item>
                <ion-input type="text" placeholder="Enter Your Zip code" formControlName="zipcode"   [(ngModel)]="zipcode" ></ion-input>
              </ion-item> -->
              </form>
            </ion-row>
            <ion-row>
                <div #map id="map"></div>
            </ion-row>
            
        </div>
        
       
      </ion-list>

      <ion-list *ngSwitchCase="'pickup'" no-lines>
          <div style=" margin-top: 0 ; padding-top: 0%">
        <ion-item no-lines>
            <h5 style="text-align: center ; font-size: 18px;"><b>When would you like your order ?</b></h5>
            <div *ngIf="!segmentValue"  class="col-4 center-block block" (click)="Getscheduletime()">
            <button ion-button clear class="time_heading" >Now </button>
            <br><span class="mytime" *ngIf="globals.pickup_Time">({{globals.pickup_Time}})</span>
            </div>
            <div *ngIf="segmentValue == 'Asap'"  class="col-4 center-block block" (click)="Getscheduletime()" >
            <button ion-button clear  class="time_heading" >Now </button>
            <br><span class="mytime"  *ngIf="globals.pickup_Time">({{globals.pickup_Time}})</span>
            </div>

            
          <div class="col-4 center-block block"  *ngIf="segmentValue == 'today'" (click)="Getscheduletime()" >
            <button ion-button clear  class="time_heading"  >Today</button>
            <br><span class="mytime"  *ngIf="convertDate">({{convertDate}})</span>
          </div>
          <div class="col-4 center-block block"  *ngIf="segmentValue == 'later'" (click)="Getscheduletime()" >
            <button ion-button clear  class="time_heading" >Schedule</button>
            <br><span class="mytime"  *ngIf="datenow">({{datenow}})</span>
          </div>
        </ion-item>
        </div>
      </ion-list>
     
    </div>
    <ion-footer style="position: static;" *ngIf="type == 'delivery'" >
      <ion-row>
        <ion-col col-6 no-padding>
            <ion-buttons>
                <button ion-button block round  (click)="process(this.ProcessForm.value)" style="color: #fff;">Save</button>
            </ion-buttons>
        </ion-col>
        <ion-col col-6 no-padding>
            <ion-buttons>
                <button ion-button block round outline  (click)="CurrentAdressBox()" >Refresh</button>
            </ion-buttons>
          </ion-col>
      </ion-row>
      
    </ion-footer>
    <ion-footer *ngIf="type == 'pickup'" >
      <ion-buttons>
        <button ion-button block round (click)="Updateyourorder()" style="margin-top: 100px; margin-right: 10px;color: #fff;">Save</button>
      </ion-buttons>
    </ion-footer>
    
    </div>

</ion-content>